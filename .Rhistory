q()
trainingdata = read.csv("TitanicSurvivalTrainingData.csv")
setwd("C:/Users/Owner/RStudioProjects")
trainingdata = read.csv("TitanicSurvivalTrainingData.csv")
testingdata = read.csv("TitanicSurvivalTestData.csv")
testingdata$Survived = rep(0,ncol(testingdata))
testingdata$Survived[testingdata$Sex == 'female'] = 1
trainingdata$Child = 0
trainingdata$Child[trainingdata$Age < 18] = 1
aggregate(Survived ~ Child + Sex, data = trainingdata, FUN = sum)
trainingdata$FareType = ">30"
trainingdata$FareType[trainingdata$Fare < 30] = "20-30"
trainingdata$FareType[trainingdata$Fare < 20] = "10-20"
trainingdata$FareType[trainingdata$Fare < 10] = "<10"
aggregate(Survived ~ FareType + Pclass + Sex, data = trainingdata, FUN = function(x) {sum(x)/length(x)})
testingdata$Survived[testingdata$Sex == 'female' & testingdata$Fare >=20 & testingdata$Pclass == 3] = 0
thirdapprox = data.frame(passengerID = testingdata$PassengerId, Survived = testingdata$Survived)
library(rpart)
fit = rpart(Survived ~ Pclass + Sex + Age + SibSp + Parch + Fare + Embarked,
data = trainingdata,
method = "class")
plot(fit)
text(fit)
install.packages("rattle")
Prediction = predict(fit, testingdata, type = "class")
install.packages("rpart.plot")
install.packages("RColorBrewer")
library(rattle)
library(rpart.plot)
library(RColorBrewer)
plot(fit)
text(fit)
Prediction = predict(fit, testingdata, type = "class")
submit = data.frame(PassengerId = testingdata$PassengerId, Survived = Prediction)
write.csv(submit, file = "fourthOrderPrediction.csv", row.names = FALSE)
combined$Nam
test$Survived = NA
testingdata$Survived = NA
combined = rbind(trainingdata, testingdata)
View(trainingdata)
View(trainingdata)
summary(trainingdata)
table(trainingdata)
View(testingdata)
View(trainingdata)
trainingdata$Child = NULL
trainingdata$FareType = NULL
combined = rbind(trainingdata, testingdata)
combined$Name = as.character(combined$Name)
strslpit(combined$Name[1], split="[,.]")
strsplit(combined$Name[1], split="[,.]")
strsplit(combined$Name[1], split="[,.]")[[1]]
combined$Title = sapply(combined$Name, FUN = function(x) {strsplit(combined$Name[x], split="[,.]")[[1]][2]})
combined.Title
combined$Title = sapply(combined$Name, FUN = function(x) {strsplit(combined$Name[x], split="[,.]")[[1]][2]})
print(combined$Title)
View(combined)
strsplit(combined$Name[1], split="[,.]")[[1]][2] # as an example of the first name
combined$Title = sapply(combined$Name, FUN = function(x) {strsplit(combined$Name[x], split="[,.]")[[1]][2]})
print(combined$Title)
strsplit(combined$Name[1], split="[,.]")[[1]][2] # as an example of the first name
combined$Title = sapply(combined$Name, FUN = function(x) {strsplit(x, split="[,.]")[[1]][2]})
print(combined$Title)
combined$Title = sub(" ","", combined$Title)
table (combined$Title)
combined$Title[combined$Title %in% c["Capt","Don", "Jonkheer", "Major", "Col"]] = "Sir"
combined$Title[combined$Title %in% c["Capt", "Don", "Jonkheer", "Major", "Col"]] = "Sir"
combined$Title[combined$Title %in% c["Capt","Don","Jonkheer","Major","Col"]] = "Sir"
combined$Title[combined$Title %in% c("Capt","Don","Jonkheer","Major","Col")] = "Sir"
combined$Title[combined$Title %in% c("Dona","Lady","the Countess")] = "Lady"
combined$FamilySize = combined$SibSp + combined$Parch + 1
save.image("C:/Users/Owner/RStudioProjects/TitanicSurvivalPredictorEnvironmentVariables.RData")
